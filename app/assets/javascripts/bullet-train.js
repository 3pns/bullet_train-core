function n(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}var a=n(require("dragula"));function e(n){setTimeout(function(){var e="[data-reorder]",t=n.find(e).addBack(e);console.log("enabling sort on array of "+t.length),t.each(function(n,e){var t=$(e);a.default([e],{moves:function(n,a,e){return $(n).find(".reorder-handle").length?!!$(e).closest(".reorder-handle").length:!$(e).closest(".undraggable").length&&$(e).closest("[data-reorder]")[0]==a},accepts:function(n,a,e,t){return!$(t).hasClass("undraggable")||!$(t).prev().hasClass("undraggable")}}).on("drop",function(n){!function(n){var a=n.find("> *").map(function(n,a){return parseInt($(a).attr("data-id"))}).toArray();$.post(n.attr("data-reorder"),{ids_in_order:a},function(){n.closest(".opened-modally").length&&refreshModalBase()})}(t)}).on("over",function(n,a){$(document.activeElement).blur()})})},500)}function t(n){var a=n.find("[data-reassignment-parent]").map(function(n,a){return parseInt($(a).attr("data-id"))}).toArray(),e={};$.each(a,function(a,t){e[t]=n.find("[data-reassignment-parent]").filter("[data-id='"+t+"']").find("[data-reassignable]").map(function(n,a){return parseInt($(a).attr("data-id"))}).toArray()}),$.post(n.attr("data-reassign"),{assignments_by_id:e,dispatched_at:(new Date).getTime()})}function o(n){setTimeout(function(){var e="[data-reassign]",o=n.find(e).addBack(e);o.each(function(n,e){console.log("游꼴 Reassignable 游눫 Found the following container:"),console.log(e);var r=$(e);a.default(r.find("[data-reassignment-parent]").toArray(),{moves:function(n,a,e){return!($(e).hasClass("undraggable")||$(e).closest(".undraggable").length>0||!$(e).closest("[data-reassignable]").length)},accepts:function(n,a,e,t){return!$(t).hasClass("undraggable")||!$(t).prev().hasClass("undraggable")}}).on("drag",function(n){o.addClass("show-reassignable-targets")}).on("drop",function(n){o.removeClass("show-reassignable-targets"),t(r)}).on("cancel",function(n){o.removeClass("show-reassignable-targets"),t(r)}).on("over",function(n,a){$(document.activeElement).blur()})})},500)}require("dragula/dist/dragula.min.css"),$(document).on("turbo:load",function(){console.log("游꼴 Sortable: Enabling on <body> after a Turbo load."),e($("body"))}),$(document).on("sprinkles:update",function(n){console.log("游꼴 Sortable: Enabling on the following element after a Sprinkles content update:"),console.log(n.target),e($(n.target))}),require("dragula/dist/dragula.min.css"),$(document).on("turbo:load",function(){console.log("游꼴 Reassignable: Enabling on <body> after a Turbo load."),o($("body"))}),$(document).on("sprinkles:update",function(n){console.log("游꼴 Reassignable: Enabling on the following element after a Sprinkles content update:"),console.log(n.target),o($(n.target))});
//# sourceMappingURL=bullet-train.js.map
