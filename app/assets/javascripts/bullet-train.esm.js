import n from"dragula";function a(a){setTimeout(function(){var e="[data-reorder]",t=a.find(e).addBack(e);console.log("enabling sort on array of "+t.length),t.each(function(a,e){var t=$(e);n([e],{moves:function(n,a,e){return $(n).find(".reorder-handle").length?!!$(e).closest(".reorder-handle").length:!$(e).closest(".undraggable").length&&$(e).closest("[data-reorder]")[0]==a},accepts:function(n,a,e,t){return!$(t).hasClass("undraggable")||!$(t).prev().hasClass("undraggable")}}).on("drop",function(n){!function(n){var a=n.find("> *").map(function(n,a){return parseInt($(a).attr("data-id"))}).toArray();$.post(n.attr("data-reorder"),{ids_in_order:a},function(){n.closest(".opened-modally").length&&refreshModalBase()})}(t)}).on("over",function(n,a){$(document.activeElement).blur()})})},500)}function e(n){var a=n.find("[data-reassignment-parent]").map(function(n,a){return parseInt($(a).attr("data-id"))}).toArray(),e={};$.each(a,function(a,t){e[t]=n.find("[data-reassignment-parent]").filter("[data-id='"+t+"']").find("[data-reassignable]").map(function(n,a){return parseInt($(a).attr("data-id"))}).toArray()}),$.post(n.attr("data-reassign"),{assignments_by_id:e,dispatched_at:(new Date).getTime()})}function t(a){setTimeout(function(){var t="[data-reassign]",o=a.find(t).addBack(t);o.each(function(a,t){console.log("游꼴 Reassignable 游눫 Found the following container:"),console.log(t);var r=$(t);n(r.find("[data-reassignment-parent]").toArray(),{moves:function(n,a,e){return!($(e).hasClass("undraggable")||$(e).closest(".undraggable").length>0||!$(e).closest("[data-reassignable]").length)},accepts:function(n,a,e,t){return!$(t).hasClass("undraggable")||!$(t).prev().hasClass("undraggable")}}).on("drag",function(n){o.addClass("show-reassignable-targets")}).on("drop",function(n){o.removeClass("show-reassignable-targets"),e(r)}).on("cancel",function(n){o.removeClass("show-reassignable-targets"),e(r)}).on("over",function(n,a){$(document.activeElement).blur()})})},500)}require("dragula/dist/dragula.min.css"),$(document).on("turbo:load",function(){console.log("游꼴 Sortable: Enabling on <body> after a Turbo load."),a($("body"))}),$(document).on("sprinkles:update",function(n){console.log("游꼴 Sortable: Enabling on the following element after a Sprinkles content update:"),console.log(n.target),a($(n.target))}),require("dragula/dist/dragula.min.css"),$(document).on("turbo:load",function(){console.log("游꼴 Reassignable: Enabling on <body> after a Turbo load."),t($("body"))}),$(document).on("sprinkles:update",function(n){console.log("游꼴 Reassignable: Enabling on the following element after a Sprinkles content update:"),console.log(n.target),t($(n.target))});
//# sourceMappingURL=bullet-train.esm.js.map
